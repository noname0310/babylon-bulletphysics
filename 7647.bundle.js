"use strict";(self.webpackChunkbabylon_bulletphysics=self.webpackChunkbabylon_bulletphysics||[]).push([[7647],{67647:(e,n,t)=>{t.r(n),t.d(n,{SceneBuilder:()=>f}),t(90203),t(33832),t(2093);var o=t(7839),a=t(52046),i=t(71513),r=t(18595),s=t(26041),d=t(79923),w=t(96793),c=t(58144),l=t(87491),u=t(46738),h=t(67168),T=t(25203),m=t(29009),p=t(47002),g=t(26405),y=t(1592),P=t(35901);class f{async build(e,n){const t=new l.Z(n);t.clearColor=new s.ov(.95,.95,.95,1);const f=new o.L("arcRotateCamera",0,0,500,new d.Pq(0,0,0),t);f.minZ=1,f.maxZ=1e3,f.setPosition(new d.Pq(10,10,-5)),f.attachControl(void 0,!1),f.inertia=.8,f.speed=10;const q=new i.g("hemisphericLight",new d.Pq(0,1,0),t);q.intensity=.5,q.specular=new s.v9(0,0,0),q.groundColor=new s.v9(1,1,1);const b=new a.Z("directionalLight",new d.Pq(.5,-1,1),t);b.intensity=.5;b.shadowMaxZ=60,b.shadowMinZ=-60,b.autoCalcShadowZBounds=!1,b.autoUpdateExtends=!1,b.shadowOrthoScale=0,b.orthoTop=60,b.orthoBottom=-60,b.orthoLeft=-60,b.orthoRight=60;const R=new r.o(2048,b,!0);R.transparencyShadow=!0,R.usePercentageCloserFiltering=!0,R.forceBackFacesOnly=!1,R.bias=.004,R.filteringQuality=r.o.QUALITY_MEDIUM;const L=await(0,u.e)(new p.t,1),x=new T.w(L);x.register(t),x.evaluationType=m.q.Immediate;const C=new d.uq;{const e=(0,c.x)("ground",{size:120},t);e.rotationQuaternion=d.PT.RotationAxis(new d.Pq(1,0,0),Math.PI/2),R.addShadowCaster(e),e.receiveShadows=!0;const n=new g.Ty(x,new d.Pq(0,0,-1),0),o=new P.t(L);o.shape=n,d.uq.FromQuaternionToRef(e.rotationQuaternion,C),o.setInitialTransform(C),o.motionType=1;const a=new y.U(x,o);x.addRigidBody(a)}const M=new g.SA(x,new d.Pq(1,1,1)),v=new P.t(L);v.motionType=0,v.shape=M,v.setInitialTransform(d.uq.TranslationToRef(0,3,0,C)),v.friction=1,v.linearDamping=.3,v.angularDamping=.3,v.disableDeactivation=!0;const S=(0,w.an)("box1",{size:2},t);R.addShadowCaster(S),S.receiveShadows=!0,S.rotationQuaternion=d.PT.Identity();const I=new y.U(x,v);x.addRigidBody(I);const Q=(0,w.an)("box2",{size:2},t);R.addShadowCaster(Q),Q.receiveShadows=!0,Q.position.set(0,6,0),Q.rotationQuaternion=d.PT.Identity();const U=new y.U(x,v);x.addRigidBody(U);const B=new h.o6(x,I,U,d.uq.Translation(0,1,0),d.uq.Translation(0,-1,0),!0);B.setLinearLowerLimit(new d.Pq(0,0,0)),B.setLinearUpperLimit(new d.Pq(0,0,0)),B.setAngularLowerLimit(new d.Pq(Math.PI/4,0,0)),B.setAngularUpperLimit(new d.Pq(0,0,0)),x.addConstraint(B,!0);let F=0,Z=0;return x.onTickObservable.add((()=>{I.getTransformMatrixToRef(C),C.getTranslationToRef(S.position),d.PT.FromRotationMatrixToRef(C,S.rotationQuaternion),U.getTransformMatrixToRef(C),C.getTranslationToRef(Q.position),d.PT.FromRotationMatrixToRef(C,Q.rotationQuaternion),F+=n.getDeltaTime(),Z+=1,Z%3==0&&(C.setTranslationFromFloats(0,3*Math.sin(F/1e3),0),I.setTransformMatrix(C))})),window.runtime=x,window.body1=I,t}}}}]);